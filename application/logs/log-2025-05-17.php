<?php defined('BASEPATH') OR exit('No direct script access allowed'); ?>

INFO - 2025-05-17 08:00:48 --> Config Class Initialized
INFO - 2025-05-17 08:00:48 --> Hooks Class Initialized
DEBUG - 2025-05-17 08:00:48 --> UTF-8 Support Enabled
INFO - 2025-05-17 08:00:48 --> Utf8 Class Initialized
INFO - 2025-05-17 08:00:48 --> URI Class Initialized
INFO - 2025-05-17 08:00:48 --> Router Class Initialized
INFO - 2025-05-17 08:00:48 --> Output Class Initialized
INFO - 2025-05-17 08:00:48 --> Security Class Initialized
DEBUG - 2025-05-17 08:00:48 --> Global POST, GET and COOKIE data sanitized
INFO - 2025-05-17 08:00:48 --> Input Class Initialized
INFO - 2025-05-17 08:00:48 --> Language Class Initialized
INFO - 2025-05-17 08:00:48 --> Loader Class Initialized
INFO - 2025-05-17 08:00:48 --> Helper loaded: url_helper
INFO - 2025-05-17 08:00:48 --> Helper loaded: transaksi_helper
INFO - 2025-05-17 08:00:49 --> Helper loaded: form_helper
INFO - 2025-05-17 08:00:49 --> Helper loaded: custom_form_helper
INFO - 2025-05-17 08:00:49 --> Database Driver Class Initialized
DEBUG - 2025-05-17 08:00:49 --> Session: "sess_save_path" is empty; using "session.save_path" value from php.ini.
INFO - 2025-05-17 08:00:49 --> Session: Class initialized using 'files' driver.
INFO - 2025-05-17 08:00:49 --> Form Validation Class Initialized
INFO - 2025-05-17 08:00:49 --> Model "Transaksi_model" initialized
INFO - 2025-05-17 08:00:49 --> Model "Barang_model" initialized
INFO - 2025-05-17 08:00:49 --> Model "Pembeli_model" initialized
INFO - 2025-05-17 08:00:49 --> Controller Class Initialized
INFO - 2025-05-17 08:00:49 --> File loaded: /var/www/html/codeigniter/application/views/layout/header.php
INFO - 2025-05-17 08:00:49 --> File loaded: /var/www/html/codeigniter/application/views/layout/table_list.php
INFO - 2025-05-17 08:00:49 --> File loaded: /var/www/html/codeigniter/application/views/layout/footer.php
INFO - 2025-05-17 08:00:49 --> File loaded: /var/www/html/codeigniter/application/views/transaksi/index.php
INFO - 2025-05-17 08:00:49 --> Final output sent to browser
DEBUG - 2025-05-17 08:00:49 --> Total execution time: 0.2777
INFO - 2025-05-17 08:18:12 --> Config Class Initialized
INFO - 2025-05-17 08:18:12 --> Hooks Class Initialized
DEBUG - 2025-05-17 08:18:12 --> UTF-8 Support Enabled
INFO - 2025-05-17 08:18:12 --> Utf8 Class Initialized
INFO - 2025-05-17 08:18:12 --> URI Class Initialized
DEBUG - 2025-05-17 08:18:12 --> No URI present. Default controller set.
INFO - 2025-05-17 08:18:12 --> Router Class Initialized
INFO - 2025-05-17 08:18:12 --> Output Class Initialized
INFO - 2025-05-17 08:18:12 --> Security Class Initialized
DEBUG - 2025-05-17 08:18:12 --> Global POST, GET and COOKIE data sanitized
INFO - 2025-05-17 08:18:12 --> Input Class Initialized
INFO - 2025-05-17 08:18:12 --> Language Class Initialized
INFO - 2025-05-17 08:18:12 --> Loader Class Initialized
INFO - 2025-05-17 08:18:12 --> Helper loaded: url_helper
INFO - 2025-05-17 08:18:12 --> Helper loaded: transaksi_helper
INFO - 2025-05-17 08:18:12 --> Helper loaded: form_helper
INFO - 2025-05-17 08:18:12 --> Helper loaded: custom_form_helper
INFO - 2025-05-17 08:18:12 --> Database Driver Class Initialized
DEBUG - 2025-05-17 08:18:12 --> Session: "sess_save_path" is empty; using "session.save_path" value from php.ini.
INFO - 2025-05-17 08:18:12 --> Session: Class initialized using 'files' driver.
INFO - 2025-05-17 08:18:12 --> Form Validation Class Initialized
INFO - 2025-05-17 08:18:12 --> Model "Transaksi_model" initialized
INFO - 2025-05-17 08:18:12 --> Model "Barang_model" initialized
INFO - 2025-05-17 08:18:12 --> Model "Pembeli_model" initialized
INFO - 2025-05-17 08:18:12 --> Controller Class Initialized
INFO - 2025-05-17 08:18:12 --> File loaded: /var/www/html/codeigniter/application/views/layout/header.php
INFO - 2025-05-17 08:18:12 --> File loaded: /var/www/html/codeigniter/application/views/layout/table_list.php
INFO - 2025-05-17 08:18:12 --> File loaded: /var/www/html/codeigniter/application/views/layout/footer.php
INFO - 2025-05-17 08:18:12 --> File loaded: /var/www/html/codeigniter/application/views/transaksi/index.php
INFO - 2025-05-17 08:18:12 --> Final output sent to browser
DEBUG - 2025-05-17 08:18:12 --> Total execution time: 0.0130
INFO - 2025-05-17 12:35:35 --> Config Class Initialized
INFO - 2025-05-17 12:35:35 --> Hooks Class Initialized
DEBUG - 2025-05-17 12:35:35 --> UTF-8 Support Enabled
INFO - 2025-05-17 12:35:35 --> Utf8 Class Initialized
INFO - 2025-05-17 12:35:35 --> URI Class Initialized
INFO - 2025-05-17 12:35:35 --> Router Class Initialized
INFO - 2025-05-17 12:35:35 --> Output Class Initialized
INFO - 2025-05-17 12:35:35 --> Security Class Initialized
DEBUG - 2025-05-17 12:35:35 --> Global POST, GET and COOKIE data sanitized
INFO - 2025-05-17 12:35:35 --> Input Class Initialized
INFO - 2025-05-17 12:35:35 --> Language Class Initialized
INFO - 2025-05-17 12:35:35 --> Loader Class Initialized
INFO - 2025-05-17 12:35:35 --> Helper loaded: url_helper
INFO - 2025-05-17 12:35:35 --> Helper loaded: transaksi_helper
INFO - 2025-05-17 12:35:35 --> Helper loaded: form_helper
INFO - 2025-05-17 12:35:35 --> Helper loaded: custom_form_helper
INFO - 2025-05-17 12:35:35 --> Database Driver Class Initialized
DEBUG - 2025-05-17 12:35:35 --> Session: "sess_save_path" is empty; using "session.save_path" value from php.ini.
INFO - 2025-05-17 12:35:35 --> Session: Class initialized using 'files' driver.
INFO - 2025-05-17 12:35:35 --> Form Validation Class Initialized
INFO - 2025-05-17 12:35:35 --> Model "Transaksi_model" initialized
INFO - 2025-05-17 12:35:35 --> Model "Barang_model" initialized
INFO - 2025-05-17 12:35:35 --> Model "Pembeli_model" initialized
INFO - 2025-05-17 12:35:35 --> Controller Class Initialized
DEBUG - 2025-05-17 12:35:36 --> SELECT "t".*, "p"."nama" AS "nama_pembeli", "dt"."barang_dibeli", "dt"."total_diskon", "dt"."total_setelah_diskon", TO_CHAR(t.tanggal, 'DD FMMonth YYYY - HH24:MI:SS') AS tgl, TO_CHAR(t.tanggal, 'YYYY-MM-DD') AS tgl_iso
FROM "transaksi" "t"
JOIN "pembeli" "p" ON "t"."pembeli_id" = "p"."id"
JOIN (
        SELECT 
            dt.transaksi_id,
            string_agg(
            b.nama || ' (' || dt.jumlah || ' x ' || 
            b.harga || ')', 
            ', '
            ) AS barang_dibeli,
            SUM(
                COALESCE(dt.disc_rp, 0) + 
                (COALESCE(dt.disc_persen, 0) / 100.0 * dt.total)
            ) AS total_diskon,
            SUM(
                dt.total - (
                    COALESCE(dt.disc_rp, 0) + 
                    (COALESCE(dt.disc_persen, 0) / 100.0 * dt.total)
                )
            ) AS total_setelah_diskon
        FROM detail_transaksi dt
        JOIN barang b ON b.id = dt.barang_id
        GROUP BY dt.transaksi_id
    ) dt ON "dt"."transaksi_id" = "t"."id_transaksi"
WHERE DATE(t.tanggal) >= '2025-05-01'
AND DATE(t.tanggal) <= '2025-05-17'
ORDER BY "t"."tanggal" DESC
INFO - 2025-05-17 12:37:11 --> Config Class Initialized
INFO - 2025-05-17 12:37:11 --> Hooks Class Initialized
DEBUG - 2025-05-17 12:37:11 --> UTF-8 Support Enabled
INFO - 2025-05-17 12:37:11 --> Utf8 Class Initialized
INFO - 2025-05-17 12:37:11 --> URI Class Initialized
INFO - 2025-05-17 12:37:11 --> Router Class Initialized
INFO - 2025-05-17 12:37:11 --> Output Class Initialized
INFO - 2025-05-17 12:37:11 --> Security Class Initialized
DEBUG - 2025-05-17 12:37:11 --> Global POST, GET and COOKIE data sanitized
INFO - 2025-05-17 12:37:11 --> Input Class Initialized
INFO - 2025-05-17 12:37:11 --> Language Class Initialized
INFO - 2025-05-17 12:37:11 --> Loader Class Initialized
INFO - 2025-05-17 12:37:11 --> Helper loaded: url_helper
INFO - 2025-05-17 12:37:11 --> Helper loaded: transaksi_helper
INFO - 2025-05-17 12:37:11 --> Helper loaded: form_helper
INFO - 2025-05-17 12:37:11 --> Helper loaded: custom_form_helper
INFO - 2025-05-17 12:37:11 --> Database Driver Class Initialized
DEBUG - 2025-05-17 12:37:11 --> Session: "sess_save_path" is empty; using "session.save_path" value from php.ini.
INFO - 2025-05-17 12:37:11 --> Session: Class initialized using 'files' driver.
INFO - 2025-05-17 12:37:11 --> Form Validation Class Initialized
INFO - 2025-05-17 12:37:11 --> Model "Transaksi_model" initialized
INFO - 2025-05-17 12:37:11 --> Model "Barang_model" initialized
INFO - 2025-05-17 12:37:11 --> Model "Pembeli_model" initialized
INFO - 2025-05-17 12:37:11 --> Controller Class Initialized
INFO - 2025-05-17 12:37:11 --> File loaded: /var/www/html/codeigniter/application/views/layout/header.php
INFO - 2025-05-17 12:37:11 --> File loaded: /var/www/html/codeigniter/application/views/layout/footer.php
INFO - 2025-05-17 12:37:11 --> File loaded: /var/www/html/codeigniter/application/views/transaksi/edit.php
INFO - 2025-05-17 12:37:11 --> Final output sent to browser
DEBUG - 2025-05-17 12:37:11 --> Total execution time: 0.0224
